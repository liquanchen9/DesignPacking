!function(e){function t(){function e(t){if(!w){if(!i.body)return r(e);for(w=!0;t=x.shift();)r(t)}}function t(t){(g||t.type===c||i[l]===d)&&(n(),e())}function n(){g?(i[b](y,t,u),a[b](c,t,u)):(i[h](v,t),a[h](f,t))}function r(e,t){setTimeout(e,+t>=0?t:1)}function o(e){w?r(e):x.push(e)}var a=window,i=a.document,s=i.documentElement,c="load",u=!1,f="on"+c,d="complete",l="readyState",p="attachEvent",h="detachEvent",m="addEventListener",y="DOMContentLoaded",v="onreadystatechange",b="removeEventListener",g=m in i,T=u,w=u,x=[];if(i[l]===d)r(e);else if(g)i[m](y,t,u),a[m](c,t,u);else{i[p](v,t),a[p](f,t);try{T=null==a.frameElement&&s}catch(R){}T&&T.doScroll&&!function k(){if(!w){try{T.doScroll("left")}catch(t){return r(k,50)}n(),e()}}()}return o.version="1.4.0",o.isReady=function(){return w},o}function n(e){var t=[];t.push({obj:e});for(var n,r,o,a,i,s,c,u,f,d,l,p="";n=t.pop();)if(r=n.obj,o=n.prefix||"",a=n.val||"",p+=o,a)p+=a;else if("object"!=typeof r)p+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)p+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),i=r.length-1;i>=0;i--)s=0===i?"":",",t.push({obj:r[i],prefix:s});t.push({val:"["})}else{c=[];for(u in r)r.hasOwnProperty(u)&&c.push(u);for(t.push({val:"}"}),i=c.length-1;i>=0;i--)f=c[i],d=r[f],l=i>0?",":"",l+=JSON.stringify(f)+":",t.push({obj:d,prefix:l});t.push({val:"{"})}return p}function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,a=r.index;if(Array.isArray(o))o.push(e);else if(a===t.length-2){var i=t.pop();o[i]=e}else t.push(e)}function o(e){for(var t,n,o,a,i,s,c,u,f,d=[],l=[],p=0;;)if(t=e[p++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":p+=3,r(null,d,l);break;case"t":p+=3,r(!0,d,l);break;case"f":p+=4,r(!1,d,l);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(o=e[p++],!/[\d\.\-e\+]/.test(o)){p--;break}n+=o}r(parseFloat(n),d,l);break;case'"':for(a="",i=void 0,s=0;;){if(c=e[p++],'"'===c&&("\\"!==i||s%2!==1))break;a+=c,i=c,"\\"===i?s++:s=0}r(JSON.parse('"'+a+'"'),d,l);break;case"[":u={element:[],index:d.length},d.push(u.element),l.push(u);break;case"{":f={element:{},index:d.length},d.push(f.element),l.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,l)}}function a(){var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.style.cssText="width:0;height:0;border:0;display:none;";var t="_tp_proxy_frame_"+(new Date).getTime();return e.setAttribute("id",t),e}function i(e,t){var r=a(),o=document.body||document.getElementsByTagName("body")[0],i="//"+c+"/order/customizationProxy.htm?";s&&(i=s);var u=t?"&data="+encodeURIComponent(n(t)):"";r.setAttribute("src",i+"func="+e+u),o.appendChild(r),r.onload=function(){var e=setTimeout(function(){clearTimeout(e),o.removeChild(r)},1e4)}}window.onDomReady=t();var s,c="buy.tmall.com",u=!1;e.TP={ready:function(t){return u?t&&t(e.TP):void e.onDomReady(function(){return u=!0,t&&t(e.TP)})},getTradeParams:function(){var e={},t=window.location.search;if(!t)return null;for(var n=t.substring(1),r=n.split("&"),o=0;o<r.length;o++){var a=r[o].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e},submitTradeData:function(e){i("submitTradeData",e)},setFrameSize:function(e){i("setFrameSize",e)},share:function(e){i("share",e)},tools:{parse:o,stringify:n}},e.onDomReady(function(){u=!0;var t=e.TP.getTradeParams();t&&"undefined"!=typeof t.proxyRootSrc&&(c=t.proxyRootSrc),t&&"undefined"!=typeof t._proxyRoot4Test&&(s=t._proxyRoot4Test),i("_successLoaded")})}(window);